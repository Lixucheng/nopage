{"id":1016894,"slug":"core","title":"core核心控制","book_id":187346,"book":{"id":187346,"type":"Book","slug":"noform","name":"NoForm","user_id":222786,"description":"NoForm - 让天下没有难做的表单","creator_id":110109,"public":1,"items_count":33,"likes_count":0,"watches_count":4,"content_updated_at":"2019-01-07T03:29:29.431Z","updated_at":"2019-01-07T03:29:29.000Z","created_at":"2018-12-11T00:41:54.000Z","namespace":"nopage/noform","user":{"id":222786,"type":"Group","login":"nopage","name":"NoPage","description":"NoPage - 让天下没有难做的CRUD","avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png","large_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":5,"public_books_count":4,"followers_count":0,"following_count":0,"created_at":"2018-12-11T00:38:10.000Z","updated_at":"2018-12-11T08:20:27.000Z","_serializer":"v2.user"},"_serializer":"v2.book"},"user_id":110109,"creator":{"id":110109,"type":"User","login":"guishu","name":"鬼鼠","description":null,"avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png","large_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":4,"public_books_count":2,"followers_count":0,"following_count":0,"created_at":"2018-04-24T06:58:34.000Z","updated_at":"2019-01-02T09:12:32.000Z","_serializer":"v2.user"},"format":"asl","body":"","body_draft":"","body_html":"<h1 id=\"lxk9qk\" data-type=\"h\"><a class=\"anchor\" id=\"-core\" href=\"#lxk9qk\"></a> Core</h1><div data-type=\"p\"> </div><h3 id=\"ir96cz\" data-type=\"h\"><a class=\"anchor\" id=\"core是什么？\" href=\"#ir96cz\"></a>Core是什么？</h3><div data-type=\"p\"></div><blockquote><div data-type=\"p\">涉及到核心的操作，请查看 <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://alibaba.github.io/noform/#/zh-CN/api?md=all\" class=\"bi-link\">API章节</a></div></blockquote><div data-type=\"p\"></div><div data-type=\"p\">Core是表单的抽象概念，它包含了表单的所有数据（<code>包含值(values)</code>，<code>状态(status)</code>，<code>错误(errors)</code>等等）， 同时它提供了一系列的API去控制这些数据。</div><div data-type=\"p\"></div><div data-type=\"p\">因此表单就变成两部分，<code>View 视图层</code> 和 <code>Core 数据层</code>，View视图层对逻辑无感知，仅仅单纯显示 Core的数据。 因此通过对Core的操作就能完成视图的变更。</div><div data-type=\"p\"></div><div data-type=\"p\"></div><div data-type=\"p\"><div id=\"w8f3rq\" data-type=\"image\" data-display=\"block\" data-align=\"left\" data-src=\"https://cdn.nlark.com/yuque/0/2018/gif/110109/1544088797197-8acc8d5e-b93d-4607-b117-b3913af4becd.gif\" data-width=\"604\"><img src=\"https://cdn.nlark.com/yuque/0/2018/gif/110109/1544088797197-8acc8d5e-b93d-4607-b117-b3913af4becd.gif\" width=\"604\"/></div></div><div data-type=\"p\"></div><h1 id=\"udpkll\" data-type=\"h\"><a class=\"anchor\" id=\"获取core\" href=\"#udpkll\"></a>获取Core</h1><div data-type=\"p\"></div><div data-type=\"p\">获取Core有两种方式，通过</div><div data-type=\"p\"></div><ol start=\"1\" data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">自定义初始化核心并绑定到表单<code>（推荐）</code></div></li></ol><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">// manual initialized\nclass Demo extends React.Component {\n    componentWillMount = () =&gt; {\n        this.core = new FormCore();\n    }\n\n    render() {\n        return &lt;Form core={this.core}&gt;\n            &lt;FormItem name=&quot;username&quot;&gt;&lt;Input /&gt;&lt;/FormItem&gt;\n        &lt;/Form&gt;\n    }\n}\n</code></pre><div data-type=\"p\"></div><ol start=\"2\" data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">表单自动生成后通过onMount挂载</div></li></ol><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">// initizled automatically\nclass Demo extends React.Component {\n    mountCore = (core) =&gt; { this.core = core }\n    render() {\n        return &lt;Form onMount={this.mountCore}&gt;\n            &lt;FormItem name=&quot;username&quot;&gt;&lt;Input /&gt;&lt;/FormItem&gt;\n        &lt;/Form&gt;\n    }\n}\n</code></pre><div data-type=\"p\"></div><h1 id=\"1mgqnh\" data-type=\"h\"><a class=\"anchor\" id=\"监听变更\" href=\"#1mgqnh\"></a>监听变更</h1><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">this.core.on(&#x27;change&#x27;, (value) =&gt; { // \n    // listen the change event\n    this.core.setValue(&#x27;isBobby&#x27;, true);\n    this.core.setStatus(&#x27;username&#x27;, &#x27;disabled&#x27;);\n    ...\n})\n</code></pre><div data-type=\"p\"></div><blockquote><div data-type=\"p\">onChange函数中更多的是进行对核心的操作，如果需要控制组件的显示或隐藏，参见<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://alibaba.github.io/noform/#/zh-CN/docs?md=basic/relation\" class=\"bi-link\">联动章节</a></div></blockquote><div data-type=\"p\"></div>","public":1,"status":null,"likes_count":0,"comments_count":0,"content_updated_at":"2018-12-06T09:34:05.000Z","deleted_at":null,"created_at":"2018-11-30T16:56:18.000Z","updated_at":"2018-12-11T00:42:43.000Z","published_at":"2018-12-06T09:34:05.000Z","first_published_at":null,"word_count":316,"cover":null,"description":"Core Core是什么？涉及到核心的操作，请查看 API章节Core是表单的抽象概念，它包含了表单的所有数据（包含值(values)，状态(status)，错误(errors)等等）， 同时它提供了一系列的API去控制这些数据。因此表单就变成两部分，View 视图层 和 Core 数据层，V...","custom_description":null,"_serializer":"v2.doc_detail"}