{"id":1016896,"slug":"status","title":"status状态控制","book_id":187346,"book":{"id":187346,"type":"Book","slug":"noform","name":"NoForm","user_id":222786,"description":"NoForm - 让天下没有难做的表单","creator_id":110109,"public":1,"items_count":33,"likes_count":0,"watches_count":4,"content_updated_at":"2019-01-07T03:29:29.431Z","updated_at":"2019-01-07T03:29:29.000Z","created_at":"2018-12-11T00:41:54.000Z","namespace":"nopage/noform","user":{"id":222786,"type":"Group","login":"nopage","name":"NoPage","description":"NoPage - 让天下没有难做的CRUD","avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png","large_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":5,"public_books_count":4,"followers_count":0,"following_count":0,"created_at":"2018-12-11T00:38:10.000Z","updated_at":"2018-12-11T08:20:27.000Z","_serializer":"v2.user"},"_serializer":"v2.book"},"user_id":110109,"creator":{"id":110109,"type":"User","login":"guishu","name":"鬼鼠","description":null,"avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png","large_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":4,"public_books_count":2,"followers_count":0,"following_count":0,"created_at":"2018-04-24T06:58:34.000Z","updated_at":"2019-01-02T09:12:32.000Z","_serializer":"v2.user"},"format":"asl","body":"","body_draft":"","body_html":"<h1 id=\"8qv0sq\" data-type=\"h\"><a class=\"anchor\" id=\"状态控制\" href=\"#8qv0sq\"></a>状态控制</h1><div data-type=\"p\"></div><div data-type=\"p\">状态是NoForm中非常重要的一环，通过状态的控制，能够在传统的 <code>新建</code>、<code>编辑</code>、<code>详情</code> 的场景中，使用同一份代码，提高开发效率。</div><div data-type=\"p\"></div><div data-type=\"p\">除此之外，引入状态的表单，也能够轻松地去应对纷繁复杂的业务需求。</div><div data-type=\"p\"></div><h1 id=\"l9h8by\" data-type=\"h\"><a class=\"anchor\" id=\"示例\" href=\"#l9h8by\"></a>示例</h1><div data-type=\"p\"></div><div data-type=\"p\"><div id=\"gzocgt\" data-type=\"image\" data-display=\"block\" data-align=\"left\" data-src=\"https://cdn.nlark.com/yuque/0/2018/gif/110109/1544089045983-ed8132c3-189d-4f75-b77c-d5f81669d9d6.gif\" data-width=\"674\"><img src=\"https://cdn.nlark.com/yuque/0/2018/gif/110109/1544089045983-ed8132c3-189d-4f75-b77c-d5f81669d9d6.gif\" width=\"674\"/></div></div><div data-type=\"p\"></div><h1 id=\"1bgxkn\" data-type=\"h\"><a class=\"anchor\" id=\"状态枚举\" href=\"#1bgxkn\"></a>状态枚举</h1><div data-type=\"p\"></div><div data-type=\"p\">NoForm 认为表单状态分为以下三种类型：<code>edit(编辑态)</code>, <code>preview(预览态)</code>, <code>disabled(禁用态)</code></div><div data-type=\"p\"></div><h1 id=\"x72zsa\" data-type=\"h\"><a class=\"anchor\" id=\"全局维度\" href=\"#x72zsa\"></a>全局维度</h1><div data-type=\"p\"></div><pre data-syntax=\"\"><code class=\"language-\">this.core.setGlobalStatus(&#x27;edit&#x27;); // set up global status\nthis.core.getGlobalStatus(); // get global status\n</code></pre><div data-type=\"p\"></div><h1 id=\"lg94px\" data-type=\"h\"><a class=\"anchor\" id=\"组件维度（视图控制）\" href=\"#lg94px\"></a>组件维度（视图控制）</h1><div data-type=\"p\"></div><pre data-syntax=\"\"><code class=\"language-\">&lt;Form&gt;\n    // status(function): (value, core) =&gt; [&#x27;edit&#x27;|&#x27;preview&#x27;|&#x27;disabled&#x27;] \n    &lt;FormItem name=&quot;username&quot; status={(values, core) =&gt; {\n        return &#x27;preview&#x27;; // edit/preview|disabled\n    }}&gt;\n        &lt;Input /&gt;\n    &lt;/FormItem&gt;\n    \n    // staus(string[&#x27;edit&#x27;|&#x27;preview&#x27;|&#x27;disabled&#x27;] )\n    &lt;FormItem name=&quot;age&quot; status=&quot;preview&quot;&gt;&lt;Input /&gt;&lt;/FormItem&gt;\n&lt;/Form&gt;\n</code></pre><div data-type=\"p\"></div><div data-type=\"p\">视图控制状态在<code>动态生成组件</code> 或 <code>处理复杂状态</code> 时比较常用。</div><div data-type=\"p\"></div><h3 id=\"si73kn\" data-type=\"h\"><a class=\"anchor\" id=\"组件维度（核心控制)\" href=\"#si73kn\"></a>组件维度（核心控制)</h3><div data-type=\"p\"></div><pre data-syntax=\"\"><code class=\"language-\">this.core.setStatus(&#x27;username&#x27;, &#x27;edit&#x27;); // modify single item&#x27;s status\nthis.core.getStatus(&#x27;username&#x27;); // get single item&#x27;s status\n</code></pre><div data-type=\"p\"></div><h1 id=\"a61kgl\" data-type=\"h\"><a class=\"anchor\" id=\"组件适配\" href=\"#a61kgl\"></a>组件适配</h1><div data-type=\"p\"></div><div data-type=\"p\">为了能够更好实现状态控制，开发者需要对引入的组件进行 <code>&quot;适配&quot;</code>。 常用的表单组件通常只具有<code>编辑态</code>，因此要达到状态控制的目的，我们需要对他们进行改造。</div><div data-type=\"p\"></div><div data-type=\"p\">目前我们已经对社区流行的组件库进行了统一的适配，开发者只需要引入这些适配层就可以直接使用了。</div><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://alibaba.github.io/noform/#/zh-CN/docs?md=advanced/antd\" class=\"bi-link\">Ant Design 适配层</a></div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://alibaba.github.io/noform/#/zh-CN/docs?md=advanced/antd\" class=\"bi-link\">Fusion Next 适配层</a></div></li></ul><div data-type=\"p\"></div><div data-type=\"p\">对于需要自定义适配层的开发者，请参见<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://alibaba.github.io/noform/#/zh-CN/docs?md=component/custom\" class=\"bi-link\">接入自定义组件章节</a>了解更多。</div>","public":1,"status":null,"likes_count":0,"comments_count":0,"content_updated_at":"2018-12-06T09:37:55.000Z","deleted_at":null,"created_at":"2018-11-30T16:58:16.000Z","updated_at":"2018-12-11T00:42:43.000Z","published_at":"2018-12-06T09:37:55.000Z","first_published_at":null,"word_count":431,"cover":null,"description":"状态控制状态是NoForm中非常重要的一环，通过状态的控制，能够在传统的 新建、编辑、详情 的场景中，使用同一份代码，提高开发效率。除此之外，引入状态的表单，也能够轻松地去应对纷繁复杂的业务需求。示例状态枚举NoForm 认为表单状态分为以下三种类型：edit(编辑态), preview(预览...","custom_description":null,"_serializer":"v2.doc_detail"}