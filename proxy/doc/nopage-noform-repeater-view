{"id":1043111,"slug":"repeater-view","title":"自定义视图","book_id":187346,"book":{"id":187346,"type":"Book","slug":"noform","name":"NoForm","user_id":222786,"description":"NoForm - 让天下没有难做的表单","creator_id":110109,"public":1,"items_count":31,"likes_count":0,"watches_count":1,"content_updated_at":"2018-12-15T02:46:15.948Z","updated_at":"2018-12-15T02:46:15.000Z","created_at":"2018-12-11T00:41:54.000Z","namespace":"nopage/noform","user":{"id":222786,"type":"Group","login":"nopage","name":"NoPage","description":"NoPage - 让天下没有难做的CRUD","avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png","large_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://gw.alipayobjects.com/zos/rmsportal/SZXCSCJTuhRSmAggBlVp.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":5,"public_books_count":4,"followers_count":0,"following_count":0,"created_at":"2018-12-11T00:38:10.000Z","updated_at":"2018-12-11T08:20:27.000Z","_serializer":"v2.user"},"_serializer":"v2.book"},"user_id":110109,"creator":{"id":110109,"type":"User","login":"guishu","name":"鬼鼠","description":null,"avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png","large_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.yuque.com/yuque/0/2018/png/110109/1527234002873-avatar/2ccdab19-b7e2-42d6-b097-f42de766f94c.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":3,"public_books_count":1,"followers_count":0,"following_count":0,"created_at":"2018-04-24T06:58:34.000Z","updated_at":"2018-12-14T07:36:21.000Z","_serializer":"v2.user"},"format":"asl","body":"","body_draft":"","body_html":"<h1 id=\"d4pqmw\" data-type=\"h\"><a class=\"anchor\" id=\"基于view属性\" href=\"#d4pqmw\"></a>基于view属性</h1><div data-type=\"p\"></div><div data-type=\"p\">通过自定义view视图能够定制想要的repeater呈现形式</div><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">const handleView = (formCoreList, repeaterCore) =&gt; {\n    const arrValues = formCoreList.map(item =&gt; item.getValues());\n    return arrValues.map((val) =&gt; {\n        const { username, age } = val;\n        return &lt;div&gt;{username} {age}&lt;/div&gt;\n    });\n};\n\n&lt;Repeater view={handleView} /&gt;\n</code></pre><div data-type=\"p\"></div><h1 id=\"03rlyx\" data-type=\"h\"><a class=\"anchor\" id=\"自定义action\" href=\"#03rlyx\"></a>自定义Action</h1><div data-type=\"p\"></div><h3 id=\"z0z2pr\" data-type=\"h\"><a class=\"anchor\" id=\"引入\" href=\"#z0z2pr\"></a>引入</h3><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">import { ActionButton } from &#x27;nowrapper/lib/antd/repeater&#x27;;\n</code></pre><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">const handleView = (formList, repeaterCore) =&gt; {\n    return &lt;ActionButton type=&quot;add&quot;&gt;添加新地址&lt;/ActionButton&gt;\n};\n\n&lt;Repeater view={handleView} /&gt;\n</code></pre><div data-type=\"p\"></div><h3 id=\"irxtip\" data-type=\"h\"><a class=\"anchor\" id=\"对应场景\" href=\"#irxtip\"></a>对应场景</h3><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">&#x27;add&#x27; - TableRepeater\n&#x27;addInline&#x27; - InlineRepeater\n&#x27;addMultipleInline&#x27; - InlineRepeater(multiple)\n&#x27;update&#x27; - ALL\n&#x27;updateInline&#x27; - InlineRepeater(update)\n&#x27;save&#x27; - InlineRepeater(single)\n&#x27;cancel&#x27; - InlineRepeater(single)\n&#x27;remove&#x27; - ALL\n</code></pre><div data-type=\"p\"></div><h3 id=\"7nm0mi\" data-type=\"h\"><a class=\"anchor\" id=\"findby\" href=\"#7nm0mi\"></a>findBy</h3><div data-type=\"p\">通过findBy函数还可以进行定制按钮操作的行</div><div data-type=\"p\"></div><pre data-syntax=\"jsx\"><code class=\"language-jsx\">const findBy = (values, index) =&gt; {\n    return index === 3; // 返回第四行的FormCore实例\n}\n\n&lt;ActionButton findBy={findBy} /&gt;\n</code></pre><div data-type=\"p\"></div>","public":1,"status":null,"likes_count":0,"comments_count":0,"content_updated_at":"2018-12-11T00:02:26.000Z","deleted_at":null,"created_at":"2018-12-10T10:27:52.000Z","updated_at":"2018-12-11T00:42:43.000Z","published_at":"2018-12-11T00:02:26.000Z","word_count":194,"_serializer":"v2.doc_detail"}